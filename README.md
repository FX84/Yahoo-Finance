# –ó–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —Å Yahoo Finance

üìà –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Python-—Å–∫—Ä–∏–ø—Ç [`yahoo.py`](./yahoo.py) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ —Å Yahoo Finance.  
–°–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∞–∫—Ü–∏—è–º, –∏–Ω–¥–µ–∫—Å–∞–º, –≤–∞–ª—é—Ç–Ω—ã–º –ø–∞—Ä–∞–º (Forex), –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –±–∞–∑–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:  
- —É—á—ë—Ç —Å–ø–ª–∏—Ç–æ–≤ –∏ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤,  
- —Ä–µ—Å–µ–º–ø–ª–∏–Ω–≥ —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤,  
- —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–Ω—É—Ç—Ä–∏–¥–Ω–µ–≤–Ω—ã–º —á–∞—Å–∞–º,  
- —Ä–∞—Å—á—ë—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (SMA, RSI, MACD),  
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç—ã **CSV, JSON, Parquet**,  
- –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ PNG.  

---

## ‚ö° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–∫–µ—Ä–æ–≤.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤ (`1d, 1mo, 1y, max`) –∏ –¥–∞—Ç (`--start/--end`).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –æ—Ç –º–∏–Ω—É—Ç–Ω—ã—Ö (`1m`) –¥–æ –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã—Ö (`3mo`).
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø–ª–∏—Ç–æ–≤/–¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ (`--adjust`).
- –†–µ—Å–µ–º–ø–ª–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≥—Ä–µ–≥–∞—Ü–∏—è –º–∏–Ω—É—Ç–æ–∫ –≤ –¥–Ω–µ–≤–Ω—ã–µ —Å–≤–µ—á–∏).
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –º–µ—Ç–æ–¥–∞–º–∏ `ffill`/`bfill`.
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–∞–π–º–∑–æ–Ω—É (`--tz Europe/Moscow`).
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–æ—Ä–≥–æ–≤—ã–º —á–∞—Å–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--intraday-hours 09:00-17:30`).
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
  - SMA (—Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è),
  - RSI (Relative Strength Index),
  - MACD.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ **CSV**, **JSON**, **Parquet**.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (PNG).

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/FX84/Yahoo-Finance.git
cd Yahoo-Finance
python3 -m venv venv
source venv/bin/activate   # –¥–ª—è Linux/MacOS
venv\\Scripts\\activate    # –¥–ª—è Windows
pip install -r requirements.txt
````

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û–±—â–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
python yahoo.py --tickers <–¢–ò–ö–ï–†[,–¢–ò–ö–ï–†2,...]> [–æ–ø—Ü–∏–∏]
```

### –ü—Ä–∏–º–µ—Ä—ã

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ–¥–æ–≤—ã—Ö –¥–Ω–µ–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ AAPL –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞

```bash
python yahoo.py --tickers AAPL --period 1y --interval 1d --plot --out-format csv
```

#### 2. –§–æ—Ä–µ–∫—Å EUR/USD –∑–∞ –≥–æ–¥, —á–∞—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤ Madrid, —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ SMA –∏ RSI

```bash
python yahoo.py --tickers EURUSD=X --start 2023-01-01 --end 2024-01-01 \
  --interval 1h --tz Europe/Madrid --indicators sma,rsi --sma-window 50 --out-format parquet
```

#### 3. –î–≤–∞ —Ç–∏–∫–µ—Ä–∞ (AAPL, MSFT), –∞–≥—Ä–µ–≥–∞—Ü–∏—è –º–∏–Ω—É—Ç–æ–∫ –≤ –¥–Ω–µ–≤–Ω—ã–µ —Å–≤–µ—á–∏

```bash
python yahoo.py --tickers AAPL,MSFT --period 5d --interval 1m --resample 1D --out-format csv --plot
```

#### 4. –ë–∏—Ç–∫–æ–∏–Ω, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫ Close –∏ Volume –≤ JSON

```bash
python yahoo.py --tickers BTC-USD --period 1mo --interval 1h --columns close,volume --out-format json
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞

* –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥ `./data` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ `--out-dir`).

* –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤:

  ```
  {–¢–ò–ö–ï–†}_{–ò–ù–¢–ï–†–í–ê–õ}_{–ü–ï–†–ò–û–î –∏–ª–∏ START_END}.{—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ}
  ```

  –ü—Ä–∏–º–µ—Ä—ã:

  * `AAPL_1d_1y.csv`
  * `EURUSD=X_1h_2023-01-01_2024-01-01.parquet`
  * `BTC-USD_1h_1mo.json`

* –ì—Ä–∞—Ñ–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ –≤ PNG.

---

## ‚öôÔ∏è –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

* `--tickers` ‚Äî —Ç–∏–∫–µ—Ä—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**).
* `--period` ‚Äî –≥–æ—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1y`).
* `--start`, `--end` ‚Äî –¥–∞—Ç—ã –≤—ã–±–æ—Ä–∫–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `--period`).
* `--interval` ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–∞–Ω–Ω—ã—Ö (`1m`, `1d`, `1wk` –∏ —Ç.–¥.).
* `--adjust / --no-adjust` ‚Äî —É—á–∏—Ç—ã–≤–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç —Å–ø–ª–∏—Ç—ã/–¥–∏–≤–∏–¥–µ–Ω–¥—ã.
* `--resample` ‚Äî –ø—Ä–∞–≤–∏–ª–æ —Ä–µ—Å–µ–º–ø–ª–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1D`, `1H`).
* `--fill` ‚Äî –º–µ—Ç–æ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–ø—É—Å–∫–æ–≤ (`none`, `ffill`, `bfill`).
* `--tz` ‚Äî —Ç–∞–π–º–∑–æ–Ω–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö.
* `--columns` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
* `--intraday-hours` ‚Äî —Ñ–∏–ª—å—Ç—Ä —á–∞—Å–æ–≤ —Ç–æ—Ä–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `09:00-17:30`).
* `--indicators` ‚Äî —Å–ø–∏—Å–æ–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (`sma,rsi,macd`).
* `--sma-window`, `--rsi-window`, `--macd-fast/slow/signal` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.
* `--plot` ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫.
* `--out-format` ‚Äî —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞ (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ).
* `--out-dir` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤.
* `--rate-limit` ‚Äî –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∑–∫–∞–º–∏ —Ç–∏–∫–µ—Ä–æ–≤.
* `--retries`, `--retry-wait` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
* `--log-level` ‚Äî —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤ (`DEBUG, INFO, WARNING, ERROR`).
* `--version` ‚Äî –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ [MIT](./LICENSE).
